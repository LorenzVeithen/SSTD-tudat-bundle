\hypertarget{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}{}\doxysection{tudat\+::propagators\+::Rotational\+Motion\+Quaternions\+State\+Derivative$<$ State\+Scalar\+Type, Time\+Type $>$ Class Template Reference}
\label{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}\index{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}}


Class for computing the state derivative for rotational dynamics of N bodies.  




{\ttfamily \#include $<$rotational\+Motion\+Quaternions\+State\+Derivative.\+h$>$}

Inheritance diagram for tudat\+::propagators\+::Rotational\+Motion\+Quaternions\+State\+Derivative$<$ State\+Scalar\+Type, Time\+Type $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{d1/d7c/classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aaa0457c913fb762aa57ac0f1e12bc74e}{Rotational\+Motion\+Quaternions\+State\+Derivative}} (const basic\+\_\+astrodynamics\+::\+Torque\+Model\+Map \&torque\+Models\+Per\+Body, const std\+::vector$<$ std\+::string $>$ \&bodies\+To\+Propagate, std\+::vector$<$ std\+::function$<$ Eigen\+::\+Matrix3d() $>$ $>$ body\+Inertia\+Tensor\+Functions, std\+::vector$<$ std\+::function$<$ Eigen\+::\+Matrix3d() $>$ $>$ body\+Inertia\+Tensor\+Time\+Derivative\+Functions=std\+::vector$<$ std\+::function$<$ Eigen\+::\+Matrix3d() $>$ $>$())
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a2fbbd4c39a28d67226dbc2c8ccd76a86}\label{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a2fbbd4c39a28d67226dbc2c8ccd76a86}} 
\mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a2fbbd4c39a28d67226dbc2c8ccd76a86}{$\sim$\+Rotational\+Motion\+Quaternions\+State\+Derivative}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aeb926dd815d7db511c8f2071259762ff}{calculate\+System\+State\+Derivative}} (const Time\+Type time, const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, 1 $>$ \&state\+Of\+System\+To\+Be\+Integrated, Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$ state\+Derivative)
\begin{DoxyCompactList}\small\item\em Calculates the state derivative of the rotational motion of the system. \end{DoxyCompactList}\item 
Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aae52bc4c603883c25659df2f73443453}{convert\+From\+Output\+Solution}} (const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&output\+Solution, const Time\+Type \&time)
\begin{DoxyCompactList}\small\item\em Function to convert the state in the conventional form to the propagator-\/specific form. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a0955d4a6522bbb9412319acc32ccb1f6}{convert\+To\+Output\+Solution}} (const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&internal\+Solution, const Time\+Type \&time, Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, 1 $>$ $>$ current\+Local\+Solution)
\begin{DoxyCompactList}\small\item\em Function to convert the propagator-\/specific form of the state to the conventional form. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a0279576abe8e2a1c9abb4143669140b3}{post\+Process\+State}} (Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, 1 $>$ $>$ unprocessed\+State)
\begin{DoxyCompactList}\small\item\em Function to process the state during propagation. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a54fa214d24939dd96c7855814d698d85}{is\+State\+To\+Be\+Post\+Processed}} ()
\begin{DoxyCompactList}\small\item\em Function to return whether the state needs to be post-\/processed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename State\+Scalar\+Type = double, typename Time\+Type = double$>$\newline
class tudat\+::propagators\+::\+Rotational\+Motion\+Quaternions\+State\+Derivative$<$ State\+Scalar\+Type, Time\+Type $>$}

Class for computing the state derivative for rotational dynamics of N bodies. 

Class for computing the state derivative for rotational dynamics of N bodies, using quaternion from body-\/fixed to inertial frame (in quaternion format) and angular velocity-\/vector of body expressed in body-\/fixed frame as the rotational state of a single body 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aaa0457c913fb762aa57ac0f1e12bc74e}\label{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aaa0457c913fb762aa57ac0f1e12bc74e}} 
\index{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}!RotationalMotionQuaternionsStateDerivative@{RotationalMotionQuaternionsStateDerivative}}
\index{RotationalMotionQuaternionsStateDerivative@{RotationalMotionQuaternionsStateDerivative}!tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}}
\doxysubsubsection{\texorpdfstring{RotationalMotionQuaternionsStateDerivative()}{RotationalMotionQuaternionsStateDerivative()}}
{\footnotesize\ttfamily template$<$typename State\+Scalar\+Type  = double, typename Time\+Type  = double$>$ \\
\mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}{tudat\+::propagators\+::\+Rotational\+Motion\+Quaternions\+State\+Derivative}}$<$ State\+Scalar\+Type, Time\+Type $>$\+::\mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}{Rotational\+Motion\+Quaternions\+State\+Derivative}} (\begin{DoxyParamCaption}\item[{const basic\+\_\+astrodynamics\+::\+Torque\+Model\+Map \&}]{torque\+Models\+Per\+Body,  }\item[{const std\+::vector$<$ std\+::string $>$ \&}]{bodies\+To\+Propagate,  }\item[{std\+::vector$<$ std\+::function$<$ Eigen\+::\+Matrix3d() $>$ $>$}]{body\+Inertia\+Tensor\+Functions,  }\item[{std\+::vector$<$ std\+::function$<$ Eigen\+::\+Matrix3d() $>$ $>$}]{body\+Inertia\+Tensor\+Time\+Derivative\+Functions = {\ttfamily std\+:\+:vector$<$~std\+:\+:function$<$~Eigen\+:\+:Matrix3d(~)~$>$~$>$(~)} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor. 

Constructor. 
\begin{DoxyParams}{Parameters}
{\em torque\+Models\+Per\+Body} & List of torque models (first map key body undergoing acceleration, second map key body exerting acceleration). \\
\hline
{\em bodies\+To\+Propagate} & List of names of bodies for which rotational state is to be propagated. \\
\hline
{\em body\+Inertia\+Tensor\+Functions} & List of functions returning inertia tensors of bodies\+To\+Propagate (in same order). \\
\hline
{\em body\+Inertia\+Tensor\+Time\+Derivative\+Functions} & List of functions returning time derivatives of inertia tensors of bodies\+To\+Propagate (in same order). Default empty, denoting time-\/invariant inertia tensors. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aeb926dd815d7db511c8f2071259762ff}\label{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aeb926dd815d7db511c8f2071259762ff}} 
\index{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}!calculateSystemStateDerivative@{calculateSystemStateDerivative}}
\index{calculateSystemStateDerivative@{calculateSystemStateDerivative}!tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}}
\doxysubsubsection{\texorpdfstring{calculateSystemStateDerivative()}{calculateSystemStateDerivative()}}
{\footnotesize\ttfamily template$<$typename State\+Scalar\+Type  = double, typename Time\+Type  = double$>$ \\
void \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}{tudat\+::propagators\+::\+Rotational\+Motion\+Quaternions\+State\+Derivative}}$<$ State\+Scalar\+Type, Time\+Type $>$\+::calculate\+System\+State\+Derivative (\begin{DoxyParamCaption}\item[{const Time\+Type}]{time,  }\item[{const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, 1 $>$ \&}]{state\+Of\+System\+To\+Be\+Integrated,  }\item[{Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ $>$}]{state\+Derivative }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Calculates the state derivative of the rotational motion of the system. 

Calculates the state derivative of the rotational motion of the system at the given time and rotational state. 
\begin{DoxyParams}{Parameters}
{\em time} & \mbox{\hyperlink{classtudat_1_1Time}{Time}} (seconds since reference epoch) at which the system is to be updated. \\
\hline
{\em state\+Of\+System\+To\+Be\+Integrated} & List of 7 $\ast$ bodies\+To\+Propagate\+\_\+.\+size( ), containing rotation quaternion and angular velocity of the bodies being propagated. The order of the values is defined by the order of bodies in bodies\+To\+Propagate\+\_\+. \\
\hline
{\em state\+Derivative} & Current state derivative (quaternion rate + angular acceleration) of system of bodies integrated numerically (returned by reference). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aae52bc4c603883c25659df2f73443453}\label{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_aae52bc4c603883c25659df2f73443453}} 
\index{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}!convertFromOutputSolution@{convertFromOutputSolution}}
\index{convertFromOutputSolution@{convertFromOutputSolution}!tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}}
\doxysubsubsection{\texorpdfstring{convertFromOutputSolution()}{convertFromOutputSolution()}}
{\footnotesize\ttfamily template$<$typename State\+Scalar\+Type  = double, typename Time\+Type  = double$>$ \\
Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}{tudat\+::propagators\+::\+Rotational\+Motion\+Quaternions\+State\+Derivative}}$<$ State\+Scalar\+Type, Time\+Type $>$\+::convert\+From\+Output\+Solution (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&}]{output\+Solution,  }\item[{const Time\+Type \&}]{time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Function to convert the state in the conventional form to the propagator-\/specific form. 

Function to convert the state in the conventional form to the propagator-\/specific form. For this propagator, the two are equivalent, and this function returns the input state. 
\begin{DoxyParams}{Parameters}
{\em output\+Solution} & State in \textquotesingle{}conventional form\textquotesingle{} \\
\hline
{\em time} & Current time at which the state is valid (not used in this class). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
State (output\+Solution), converted to the \textquotesingle{}propagator-\/specific form\textquotesingle{} (which is equal to output\+Solution). 
\end{DoxyReturn}
\mbox{\Hypertarget{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a0955d4a6522bbb9412319acc32ccb1f6}\label{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a0955d4a6522bbb9412319acc32ccb1f6}} 
\index{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}!convertToOutputSolution@{convertToOutputSolution}}
\index{convertToOutputSolution@{convertToOutputSolution}!tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}}
\doxysubsubsection{\texorpdfstring{convertToOutputSolution()}{convertToOutputSolution()}}
{\footnotesize\ttfamily template$<$typename State\+Scalar\+Type  = double, typename Time\+Type  = double$>$ \\
void \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}{tudat\+::propagators\+::\+Rotational\+Motion\+Quaternions\+State\+Derivative}}$<$ State\+Scalar\+Type, Time\+Type $>$\+::convert\+To\+Output\+Solution (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, Eigen\+::\+Dynamic $>$ \&}]{internal\+Solution,  }\item[{const Time\+Type \&}]{time,  }\item[{Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, 1 $>$ $>$}]{current\+Local\+Solution }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Function to convert the propagator-\/specific form of the state to the conventional form. 

Function to convert the propagator-\/specific form of the state to the conventional form. For the this propagator, the two are equivalent, and this function returns the input state. 
\begin{DoxyParams}{Parameters}
{\em internal\+Solution} & State in propagator-\/specific form (which is equal to output\+Solution to conventional form for this propagator) \\
\hline
{\em time} & Current time at which the state is valid (not used in this class). \\
\hline
{\em current\+Local\+Solution} & State (internal\+Solution), converted to the \textquotesingle{}conventional form\textquotesingle{}, which is equal to output\+Solution for this class (returned by reference). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a54fa214d24939dd96c7855814d698d85}\label{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a54fa214d24939dd96c7855814d698d85}} 
\index{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}!isStateToBePostProcessed@{isStateToBePostProcessed}}
\index{isStateToBePostProcessed@{isStateToBePostProcessed}!tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}}
\doxysubsubsection{\texorpdfstring{isStateToBePostProcessed()}{isStateToBePostProcessed()}}
{\footnotesize\ttfamily template$<$typename State\+Scalar\+Type  = double, typename Time\+Type  = double$>$ \\
bool \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}{tudat\+::propagators\+::\+Rotational\+Motion\+Quaternions\+State\+Derivative}}$<$ State\+Scalar\+Type, Time\+Type $>$\+::is\+State\+To\+Be\+Post\+Processed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Function to return whether the state needs to be post-\/processed. 

Function to return whether the state needs to be post-\/processed. For quaternions this is true. \begin{DoxyReturn}{Returns}
Boolean confirming that the state needs to be post-\/processed. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classtudat_1_1propagators_1_1SingleStateTypeDerivative_a8541ff94360e103cd1157899969c6bb3}{tudat\+::propagators\+::\+Single\+State\+Type\+Derivative$<$ double, double $>$}}.

\mbox{\Hypertarget{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a0279576abe8e2a1c9abb4143669140b3}\label{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative_a0279576abe8e2a1c9abb4143669140b3}} 
\index{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}!postProcessState@{postProcessState}}
\index{postProcessState@{postProcessState}!tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$@{tudat::propagators::RotationalMotionQuaternionsStateDerivative$<$ StateScalarType, TimeType $>$}}
\doxysubsubsection{\texorpdfstring{postProcessState()}{postProcessState()}}
{\footnotesize\ttfamily template$<$typename State\+Scalar\+Type  = double, typename Time\+Type  = double$>$ \\
void \mbox{\hyperlink{classtudat_1_1propagators_1_1RotationalMotionQuaternionsStateDerivative}{tudat\+::propagators\+::\+Rotational\+Motion\+Quaternions\+State\+Derivative}}$<$ State\+Scalar\+Type, Time\+Type $>$\+::post\+Process\+State (\begin{DoxyParamCaption}\item[{Eigen\+::\+Block$<$ Eigen\+::\+Matrix$<$ State\+Scalar\+Type, Eigen\+::\+Dynamic, 1 $>$ $>$}]{unprocessed\+State }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Function to process the state during propagation. 

Function to process the state during propagation. For quaternions, this function normalizes the quaternion vector in case its magnitude differs from 1.\+0 by a value larger than the tolerance. 
\begin{DoxyParams}{Parameters}
{\em unprocessed\+State} & State computed after propagation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Processed state (returned by reference). 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/jonashener/tudatpy\+\_\+dev/tudat-\/bundle/.\+tudat-\/documented/include/tudat/astro/propagators/rotational\+Motion\+Quaternions\+State\+Derivative.\+h\end{DoxyCompactItemize}
